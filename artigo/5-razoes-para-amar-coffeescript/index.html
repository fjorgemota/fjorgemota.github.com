<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <title>Fernando Jorge Mota - 5 Razões para AMAR CoffeeScript</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link href="http://fjorgemota.com/theme/css/bootstrap.css" rel="stylesheet" type="text/css"/>
  <link href="http://fjorgemota.com/theme/css/bootstrap-responsive.css" rel="stylesheet" type="text/css"/>
  <link href="http://fjorgemota.com/theme/css/main.css" rel="stylesheet" type="text/css"/>
  <link href="http://fjorgemota.com/theme/css/pygment.css" rel="stylesheet" type="text/css"/>
  <link href="http://fonts.googleapis.com/css?family=Chelsea+Market" rel="stylesheet" type="text/css"/>
  <link href="http://fjorgemota.com/rss/posts.xml" rel="alternate" type="application/atom+xml" title="Fernando Jorge Mota RSS" />  
  <!--[if IE]>
    <script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->
  
  <!--[if lte IE 7]>
    <link rel="stylesheet" type="text/css" media="all" href="http://fjorgemota.com/css/ie.css"/>
    <script src="http://fjorgemota.com/js/IE8.js" type="text/javascript"></script><![endif]-->
  
  <!--[if lt IE 7]>
    <link rel="stylesheet" type="text/css" media="all" href="http://fjorgemota.com/css/ie6.css"/><![endif]-->

    <script type="text/javascript">
  var disqus_shortname = 'fernandojorgemota';

  (function () {
      var s = document.createElement('script'); s.async = true;
      s.type = 'text/javascript';
      s.src = 'http://' + disqus_shortname + '.disqus.com/count.js';
      (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
  }());
  </script>
  </head>


<body>
<!--
relapse - a Pelican theme using Bootstrap 
Copyright (c) 2012 Warren Moore
https://github.com/wamonite/relapse
-->

<!-- Header -->
<header><div class="container">
<h1 class="page-header"><a href="http://fjorgemota.com/index.html">Fernando Jorge Mota</a>
</h1>
</div>
</div>
<!-- Navbar -->
<nav class="navbar">
<div class="navbar-inner">

<ul class="nav">
  <li><a href="http://fjorgemota.com/index.html">Inicio</a></li>
  
                                       
      <li ><a href="http://fjorgemota.com/contato/">Contato</a></li>
      <li ><a href="http://fjorgemota.com/divulgue/">Divulgue</a></li>
      <li ><a href="http://fjorgemota.com/gerador-getters-setters/">Gerador de Getters e Setters</a></li>
      <li ><a href="http://fjorgemota.com/orcamento/">Orçamento</a></li>
      <li ><a href="http://fjorgemota.com/sobre/">Sobre</a></li>
  
</ul>
</div>
</nav>
<!-- /Navbar -->
</header>
<!-- /Header -->

<!-- Body -->
<section id="body"><div class="container">


<!-- Main block -->
<div class="row">

<!-- Content --> 
<div class="span9">
<article>
<h1>5 Razões para AMAR CoffeeScript</h1>

<p>Durante o desenvolvimento de um site, é comum nos depararmos com códigos que as vezes poderiam ser diminuidos e simplificados brutalmente, simplificando a programação e a leitura de um código. No Javascript, exemplos de código assim seriam coisas como definições de variáveis, funções, funções que aceitam múltiplos argumentos, loops em objetos, e etc. Pensando nisso, o programador <a href="(http://github.com/jashkenas)">Jeremy Ashkenas</a> resolveu, em 24 de dezembro de 2009, criar a linguagem <strong>CoffeeScript</strong>, que será apresentada neste post.</p>
<p>CoffeeScript é uma linguagem de programação simples, "pequena" - como apresentada no <a href="http://coffeescript.org">site oficial</a> -, e tem como seu maior mérito a compilação pura e eficaz para..Javascript. Mas você deve estar se perguntando: Por quê eu usaria algo que apenas compila o que eu já posso fazer manualmente? Bom, a resposta é simples e sagaz: Atalhos e uma sintaxe mais simples! :D</p>
<p>CoffeeScript proporciona uma série de eficientes e poderosos "atalhos" para o uso com Javascript, um código Javascript assim:</p>
<div class="highlight"><pre><span class="kd">function</span> <span class="nx">hello</span><span class="p">(</span><span class="nx">name</span><span class="p">){</span>
    <span class="nx">alert</span><span class="p">(</span><span class="s2">&quot;Hello &quot;</span><span class="o">+</span><span class="p">(</span><span class="nx">name</span><span class="o">||</span><span class="s2">&quot;World&quot;</span><span class="p">));</span>
<span class="p">}</span>
</pre></div>


<p>Em CoffeeScript fica assim:</p>
<div class="highlight"><pre><span class="nv">hello = </span><span class="nf">(name=&quot;World&quot;) -&gt;</span>
    <span class="nx">alert</span> <span class="s">&quot;Hello </span><span class="si">#{</span><span class="nx">name</span><span class="si">}</span><span class="s">&quot;</span>
</pre></div>


<p><strong>Bem</strong> mais simples, né?</p>
<p>Mas CoffeeScript também tem outras vantagens bem práticas. E, abaixo, listarei <strong>5 razões</strong> para você <strong>AMAR</strong> CoffeeScript.</p>
<h2>1 - Suporte a classes</h2>
<p>Para mim, JavaScript sempre foi deficiente em algo <strong>MUITO</strong> simples e que simplesmente <u>não pode</u> deixar de ser usado no mundo moderno: Classes.</p>
<p>Ok, ok, JavaScript <em>até tem</em> um suporte básico a classes, embora não seja muito explícito e não seja nada.....amigável.</p>
<p>Em JavaScript, para você criar uma classe <code>Pessoa</code> com o método <code>getNome</code> e <code>setNome</code>, com um construtor que recebe o parâmetro <code>nome</code> tendo como valor padrão <code>Sem Nome</code>, você precisa programar algo assim:</p>
<div class="highlight"><pre><span class="kd">function</span> <span class="nx">Pessoa</span><span class="p">(</span><span class="nx">nome</span><span class="p">){</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">nome</span> <span class="o">=</span> <span class="nx">nome</span><span class="o">||</span><span class="s2">&quot;Sem Nome&quot;</span><span class="p">;</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">setNome</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">nome</span><span class="p">){</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">nome</span> <span class="o">=</span> <span class="nx">nome</span><span class="p">;</span>
    <span class="p">}</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">getNome</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(){</span>
        <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">nome</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>


<p>Parece uma simples função, né? Agora vejamos com CoffeeScript:</p>
<div class="highlight"><pre><span class="k">class</span> <span class="nx">Pessoa</span>
    <span class="nv">constructor: </span><span class="nf">(@nome=&quot;Sem Nome&quot;) -&gt;</span>
    <span class="nv">getNome: </span><span class="p">()</span> <span class="nf">-&gt;</span>
        <span class="nx">@nome</span>
    <span class="nv">setNome: </span><span class="nf">(@nome) -&gt;</span>
</pre></div>


<p>Mais...explícito, né? E você pode testar no <a href="http://coffeescript.org">site oficial</a> do CoffeeScript: O resultado é <strong>o mesmo</strong>.</p>
<h2>2 - Herança de classes</h2>
<p>Não ficou contente com o primeiro motivo? Vamos para o segundo, então! Com Javascript, a herança simplesmente <strong>não</strong> fica clara. Por quê? Pois <strong>não existe</strong> forma <strong>nativa</strong> e <strong>amigável</strong> de herdar uma classe feita puramente em JavaScript.</p>
<p>Para exemplificar sem precisar ficar enrolando, segue um exemplo usando a classe Pessoa acima:</p>
<div class="highlight"><pre><span class="kd">function</span> <span class="nx">Aluno</span><span class="p">(</span><span class="nx">nome</span><span class="p">,</span> <span class="nx">serie</span><span class="p">){</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">serie</span> <span class="o">=</span> <span class="nx">serie</span><span class="p">;</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">nome</span> <span class="o">=</span> <span class="nx">nome</span><span class="p">;</span>
<span class="p">}</span>
<span class="nx">Aluno</span><span class="p">.</span><span class="nx">prototype</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Pessoa</span><span class="p">();</span>
<span class="nx">Aluno</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">getSerie</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(){</span><span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">serie</span><span class="p">}</span>
<span class="nx">Aluno</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">setSerie</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">serie</span><span class="p">){</span><span class="k">this</span><span class="p">.</span><span class="nx">serie</span> <span class="o">=</span> <span class="nx">serie</span><span class="p">}</span>
</pre></div>


<p>Feio, né?</p>
<p>E o pior é que, além de feio, é <strong>confuso</strong>.</p>
<p>No CoffeeScript, uma forma mais simples, amigável e <strong>eficiente</strong> de fazer o mesmo serviço seria fazendo o seguinte:</p>
<div class="highlight"><pre><span class="k">class</span> <span class="nx">Aluno</span> <span class="k">extends</span> <span class="nx">Pessoa</span>
    <span class="nv">constructor: </span><span class="nf">(@nome, @serie) -&gt;</span>
        <span class="k">super</span> <span class="nx">@nome</span>
    <span class="nv">getSerie: </span><span class="p">()</span> <span class="nf">-&gt;</span>
        <span class="nx">@serie</span>
    <span class="nv">setSerie: </span><span class="nf">(@serie) -&gt;</span>
</pre></div>


<p>Muito mais simples, né? :)</p>
<h2>3 - Argumentos padrão</h2>
<p>Não sei se você já percebeu, mas no CoffeeScript, assim como no Python, você pode facilmente usar valores padrões para os seus argumentos de uma maneira bem prática.</p>
<p>No JavaScript, para setar um argumento padrão, <em>geralmente</em> é usado:</p>
<div class="highlight"><pre><span class="kd">function</span> <span class="nx">helloworld</span><span class="p">(</span><span class="nx">nome</span><span class="p">){</span>
    <span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="nx">nome</span><span class="p">){</span>
        <span class="nx">nome</span> <span class="o">=</span> <span class="s2">&quot;World&quot;</span><span class="p">;</span>
    <span class="p">}</span>
    <span class="nx">alert</span><span class="p">(</span><span class="s2">&quot;Hello &quot;</span><span class="o">+</span><span class="nx">nome</span><span class="p">);</span>
<span class="p">}</span>
</pre></div>


<p>Já no CoffeeScript, é usado:</p>
<div class="highlight"><pre><span class="nv">helloworld = </span><span class="nf">(nome=&quot;World&quot;) -&gt;</span>
    <span class="nx">alert</span> <span class="s">&quot;Hello </span><span class="si">#{</span><span class="nx">nome</span><span class="si">}</span><span class="s">&quot;</span>
</pre></div>


<p>É uma abordagem mais simples, similar ao Python, e bem prática, né?</p>
<h2>4 - Funções que aceitam vários argumentos</h2>
<p>No JavaScript, para criar uma função que é capaz de lidar com vários argumentos, você <u>precisa</u> lidar com a variável <code>arguments</code>, para acessar tudo o que você <strong>não</strong> definiu necessariamente como argumento. Assim, uma função <code>helloworld</code> que dá um <code>alert("Hello "+argumento);</code> para absolutamente todos os argumentos ficaria mais ou menos assim:</p>
<div class="highlight"><pre><span class="kd">function</span> <span class="nx">helloworld</span><span class="p">(){</span>
    <span class="k">for</span><span class="p">(</span><span class="kd">var</span> <span class="nx">c</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span><span class="nx">l</span><span class="o">=</span><span class="nx">arguments</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span><span class="nx">c</span><span class="o">&lt;</span><span class="nx">l</span><span class="p">;</span> <span class="o">++</span><span class="nx">c</span><span class="p">){</span>
        <span class="kd">var</span> <span class="nx">argumento</span> <span class="o">=</span> <span class="nx">arguments</span><span class="p">[</span><span class="nx">c</span><span class="p">];</span>
        <span class="nx">alert</span><span class="p">(</span><span class="s2">&quot;Hello &quot;</span><span class="o">+</span><span class="nx">argumento</span><span class="p">);</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>


<p>Ok, a função não é tão complicada assim, mas vejamos sua variante no CoffeeScript:</p>
<div class="highlight"><pre><span class="nv">helloworld = </span><span class="nf">(argumentos...) -&gt;</span>
    <span class="k">for</span> <span class="nx">argumento</span> <span class="k">in</span> <span class="nx">argumentos</span>
        <span class="nx">alert</span> <span class="s">&quot;Hello &quot;</span><span class="o">+</span><span class="nx">argumento</span>
</pre></div>


<p>É, eu prefiro CoffeeScript. :P</p>
<h2>5 - Concatenação!</h2>
<p>Se tem uma coisa que eu não acho bonito é string concatenada em uma só linha. Prefiro, muito mais, separar em várias linhas, do que concatenar tudo em uma única e gigante linha que não é nada prática e amigável. </p>
<p>No JavaScript, infelizmente, isso é comum, e é meio chato para o desenvolvimento, pois, quando você quer concatenar uma string que já possui aspas, fica "meio" confuso.</p>
<p>Vejamos um exemplo de função que recebe como argumento uma string <code>tagName</code>, um objeto <code>attributes</code> e retorna uma string com uma tag HTML com todos os atributos especificados:</p>
<div class="highlight"><pre><span class="kd">function</span> <span class="nx">generate</span><span class="p">(</span><span class="nx">tagName</span><span class="p">,</span> <span class="nx">attributes</span><span class="p">){</span>
    <span class="kd">var</span> <span class="nx">html</span> <span class="o">=</span> <span class="s2">&quot;&lt;&quot;</span><span class="o">+</span><span class="nx">tagName</span><span class="p">;</span>
    <span class="k">for</span><span class="p">(</span><span class="kd">var</span> <span class="nx">key</span> <span class="k">in</span> <span class="nx">attributes</span><span class="p">){</span>
        <span class="kd">var</span> <span class="nx">value</span> <span class="o">=</span> <span class="nx">attributes</span><span class="p">[</span><span class="nx">key</span><span class="p">];</span>
        <span class="nx">html</span> <span class="o">+=</span> <span class="s2">&quot; &quot;</span><span class="o">+</span><span class="nx">key</span><span class="o">+</span><span class="s2">&quot;=&#39;&quot;</span><span class="o">+</span><span class="nx">value</span><span class="o">+</span><span class="s2">&quot;&#39;&quot;</span><span class="p">;</span>
    <span class="p">}</span>
    <span class="nx">html</span> <span class="o">+=</span> <span class="s2">&quot;&gt;&lt;/&quot;</span><span class="o">+</span><span class="nx">tagName</span><span class="o">+</span><span class="s2">&quot;&gt;&quot;</span><span class="p">;</span>
    <span class="k">return</span> <span class="nx">html</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>


<p>PS: Sim, eu sei que tem outras formas de fazer uma tarefa semelhante, mas quero apenas mostrar um exemplo usando concatenação.</p>
<p>No CoffeeScript, a <strong>MESMA</strong> função ficaria assim:</p>
<div class="highlight"><pre><span class="nv">generate = </span><span class="nf">(tagName, attributes) -&gt;</span>
    <span class="nv">html = </span><span class="s">&quot;&lt;</span><span class="si">#{</span><span class="nx">tagName</span><span class="si">}</span><span class="s">&quot;</span>
    <span class="k">for</span> <span class="nx">key</span><span class="p">,</span> <span class="nx">value</span> <span class="k">of</span> <span class="nx">attributes</span>
        <span class="nx">html</span> <span class="o">+=</span> <span class="s">&quot; </span><span class="si">#{</span><span class="nx">key</span><span class="si">}</span><span class="s">=&#39;</span><span class="si">#{</span><span class="nx">value</span><span class="si">}</span><span class="s">&#39;&quot;</span>
    <span class="nx">html</span> <span class="o">+=</span> <span class="s">&quot;&gt;&lt;/</span><span class="si">#{</span><span class="nx">tagName</span><span class="si">}</span><span class="s">&gt;&quot;</span>
    <span class="nx">html</span>
</pre></div>


<p>E o resultado da função <strong>É IGUAL</strong>.</p>
<p>Mais prático, né?</p>
<p>Bom, essas são apenas 5 das inúmeras razões pelo qual eu acho <strong>CoffeeScript</strong> infinitas vezes mais prático e mais simples do que JavaScript. </p>
<p>Se você quiser saber mais sobre a linguagem, acesse o <a href="http://coffeescript.org">site oficial</a> do CoffeeScript e se encante com esta linguagem cujo uso só cresce nos projetos e em toda a internet.</p>
<p>Até a próxima, pessoal!</p>

<detail><p>
Postado em 02 de junho de 2013
 por <a class="url fn" href="http://fjorgemota.com/sobre/">Fernando Jorge Mota</a> em <a href="http://fjorgemota.com/categoria/dicas/">Dicas</a> 
 com as tags <a href="http://fjorgemota.com/tag/coffeescript/">CoffeeScript</a>, <a href="http://fjorgemota.com/tag/javascript/">JavaScript</a>, <a href="http://fjorgemota.com/tag/programacao/">Programação</a>, <a href="http://fjorgemota.com/tag/ferramentas/">Ferramentas</a>
</p></detail>
    <div id="related_posts">
<h2>Posts relacionados</h2><br />
Veja algumas dicas que reservamos especialmente para você: <br /><br />
<ul>
            <li><a href="http://fjorgemota.com/artigo/angularjs-aplicativos-estruturados-com-facilidade/">Angular.JS - Aplicativos estruturados com facilidade</a></li>
            <li><a href="http://fjorgemota.com/artigo/qtip2-poderosos-tooltips-com-jquery/">QTip2 - Poderosos Tooltips com jQuery</a></li>
            <li><a href="http://fjorgemota.com/artigo/requirejs-carregando-scripts-na-hora-certa/">Require.JS - Carregando scripts na hora certa</a></li>
            <li><a href="http://fjorgemota.com/artigo/o-que-e-amd-javascript/">O que é AMD? (JavaScript)</a></li>
    </ul>
</div>
<aside id="comments">
  <div id="disqus_thread"></div>
<script type="text/javascript">
var disqus_shortname = 'fernandojorgemota';
var disqus_identifier = 'http://fjorgemota.com/artigo/5-razoes-para-amar-coffeescript/';
var disqus_title = '5 Razões para AMAR CoffeeScript';

(function() {
  var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
  dsq.src = 'http://' + disqus_shortname + '.disqus.com/embed.js';
  (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
})();
</script>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
</aside>
</article>
</div>
<!-- /Content -->

<!-- Side bar -->
<nav class="span3">

<h2>Categorias</h2>
<ul class="nav nav-pills nav-stacked">
  <li class="active"><a href="http://fjorgemota.com/categoria/dicas/">Dicas</a></li>
  <li ><a href="http://fjorgemota.com/categoria/geral/">Geral</a></li>
  <li ><a href="http://fjorgemota.com/categoria/web-resources/">Web Resources</a></li>
</ul>


<h2>Social</h2>
<ul class="nav nav-pills nav-stacked social">
    <li><a href="http://fjorgemota.com/atom/posts.xml" type="application/atom+xml" rel="alternate">Feed (Atom)</a></li>
      <li><a href="http://fjorgemota.com/rss/posts.xml" type="application/rss+xml" rel="alternate">Feed (RSS)</a></li>
  
    <li><a href="http://twitter.com/fjorgemota">Twitter</a></li>
    <li><a href="https://www.facebook.com/FernandoJorgeMota">Facebook</a></li>
    <li><a href="http://github.com/fjorgemota">Github</a></li>
  </ul>

</nav>
<!-- /Side bar -->

</div>
<!-- /Main block -->

<!-- Footer -->
<div class="row"><div class="span12">
<footer><small>
Construido usando <a href="http://pelican.notmyidea.org/">Pelican</a>, o tema 
<a href="https://github.com/wamonite/relapse">relapse</a> e
<a href="http://twitter.github.com/bootstrap">Bootstrap</a>. Personalizado por <a href="http://fjorgemota.com">Fernando Jorge Mota</a>
</small></footer>
</div></div>
<!-- /Footer -->

</div></div>
<!-- /Body -->

<script src="http://fjorgemota.com/theme/js/jquery.js"></script>
<script src="http://fjorgemota.com/theme/js/bootstrap.js"></script>
  
  <script type="text/javascript">
  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-41380180-1']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();
</script>
</body>
</html>